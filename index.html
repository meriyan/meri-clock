<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Meri — Daily Tracker</title>
  
  <style>
    :root {
      --bg:#0b0c10; --panel:#13161b; --card:#14161a; --text:#e8ecf1; --accent:#7aa7ff;
      --muted:#9aa3b2; --good:#3dcc7b; --warn:#ffc24d; --danger:#ff6b6b; --shadow:rgba(0,0,0,.4);
    }
    html,body {
      height:100%; margin:0; background:var(--bg); color:var(--text);
      font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    }
    .container {min-height:100%;display:flex;flex-direction:column;align-items:center;padding:24px 20px 80px;}
    .card {
      background:var(--card);
      border:1px solid rgba(255,255,255,.06);
      border-radius:14px;
      box-shadow:0 16px 40px var(--shadow);
      padding:18px;
      max-width:1100px;
      width:100%;
      margin-top:20px;
    }
    .section-title {
      font-weight:700;
      letter-spacing:.04em;
      text-transform:uppercase;
      font-size:12px;
      color:var(--muted);
      margin:0 0 12px;
    }
    .controls {display:flex;gap:12px;flex-wrap:wrap;align-items:center;justify-content:center;}
    .btn {
      background:var(--card); color:var(--text);
      border:1px solid rgba(255,255,255,.06);
      border-radius:10px; padding:10px 14px;
      box-shadow:0 8px 24px var(--shadow);
      cursor:pointer; user-select:none;
      transition: background-color 0.2s;
    }
    .btn:hover:not(:disabled) { background-color: rgba(255,255,255,0.1); }
    .btn.primary {background:linear-gradient(180deg, var(--accent), #436cff);color:white;border-color:transparent;}
    .btn.success {background:linear-gradient(180deg, var(--good), #1b8b52);color:white;border-color:transparent;}
    .btn.warn {background:linear-gradient(180deg, var(--warn), #a37400);color:white;border-color:transparent;}
    .btn.ghost {background:transparent;border:1px dashed rgba(255,255,255,.18);}
    .btn:disabled {opacity:0.5;cursor:not-allowed;}

    .date-selector {display:flex;flex-direction:column;gap:12px;align-items:center;}
    .year-box,.month-box {
      background:var(--panel);
      border-radius:10px;
      padding:10px 16px;
      width:100%;
      max-width:400px;
      cursor:pointer;
    }
    .days-grid {
      display:grid;
      grid-template-columns:repeat(auto-fill,minmax(80px,1fr));
      gap:8px;
      width:100%;
      max-width:400px;
      margin-top:6px;
    }
    .day-btn {
      background:var(--card);
      border:1px solid rgba(255,255,255,.08);
      border-radius:8px;
      padding:8px;
      text-align:center;
      cursor:pointer;
      transition:.2s;
    }
    .day-btn:hover {background:var(--accent);color:white;}
    .clock {
      display:flex;
      gap:16px;
      align-items:center;
      justify-content:center;
      flex-wrap:wrap;
      margin-top:8px;
    }
    .segment {display:flex;gap:8px;}
    .colon {font-weight:800;font-size:48px;opacity:.75;position:relative;top:-8px;}
    .flip {
      position:relative;
      width:92px;
      height:120px;
      perspective:1000px;
    }
    .card-face {
      position:relative;
      width:100%;
      height:100%;
      border-radius:14px;
      background:linear-gradient(180deg, var(--card), #0f1116);
      border:1px solid rgba(255,255,255,.06);
      overflow:hidden;
    }
    .half {
      position:absolute;
      left:0;right:0;
      height:50%;
      display:flex;
      align-items:center;
      justify-content:center;
      font-weight:800;
      font-variant-numeric:tabular-nums;
    }
    .top {top:0;border-bottom:1px solid rgba(0,0,0,.35);}
    .bottom {bottom:0;}
    .digit {font-size:68px;}
    table {width:100%;border-collapse:separate;border-spacing:0;margin-top:10px;}
    th,td {padding:10px 12px;text-align:left;border-bottom:1px solid rgba(255,255,255,.08);}
    thead th {font-size:12px;letter-spacing:.12em;text-transform:uppercase;color:var(--muted);}
    .form {display:flex;gap:10px;flex-wrap:wrap;align-items:center;}
    .form input,.form select,.form textarea {
      background:var(--panel);
      color:var(--text);
      border:1px solid rgba(255,255,255,.06);
      border-radius:10px;
      padding:10px 12px;
      outline:none;
      flex-grow:1;
      min-width:150px;
    }
    .mini-timer {font-weight:800;font-variant-numeric:tabular-nums;}
    .slot {
      display:flex;
      align-items:center;
      justify-content:space-between;
      background:var(--panel);
      padding:8px 12px;
      border-radius:8px;
    }
    #notes {flex-basis:100%;resize:vertical;min-height:50px;}
    #clockInStatus {font-weight:600;}
  </style>
  
  <script type="module">
    // your JavaScript stays the same — do not modify anything from your last version
  </script>
</head>

<body>
  <div class="container">
    <div id="authSection" class="card">
      <div class="section-title">Log in or Sign up</div>
      <form id="authForm" class="form">
        <input type="email" id="authEmail" placeholder="Email" required />
        <input type="password" id="authPassword" placeholder="Password" required />
        <button class="btn primary" type="submit">Continue</button>
      </form>
    </div>

    <div id="dateSelectorPage" class="date-selector">
      <h2>Select Date</h2>
      <div id="dateSelector"></div>
    </div>

    <div id="mainApp">
      <div class="controls">
        <button id="logoutBtn" class="btn ghost">Log out</button>
        <button id="exportBtn" class="btn primary" disabled>Export CSV (Pending)</button>
        <button id="clearBtn" class="btn ghost" disabled>Clear All (Pending)</button>
      </div>

      <h2 id="selectedDateHeader" style="text-align:center;margin-top:10px;"></h2>

      <div class="card">
        <div class="section-title">Flip Clock</div>
        <div class="clock"></div>
      </div>

      <div class="card">
        <div class="section-title">Clock In / Clock Out</div>
        <form class="form" onsubmit="return false;">
          <input type="text" id="activity" placeholder="What are you doing?" required />
          <select id="category">
            <option value="">No tag</option>
            <option>Study</option>
            <option>Work</option>
            <option>Gym</option>
            <option>Deep Work</option>
            <option>Content</option>
            <option>Admin</option>
          </select>
          <textarea id="notes" placeholder="Notes (optional)"></textarea>
          <button id="clockInBtn" class="btn success" type="button">Clock In</button>
          <button id="clockOutBtn" class="btn warn" type="button" disabled>Clock Out</button>
        </form>
        <div id="clockInStatus" style="margin-top:10px;color:var(--muted);">Not currently clocked in.</div>
      </div>

      <div class="card">
        <div class="section-title">Entries</div>
        <table>
          <thead>
            <tr>
              <th>Date</th>
              <th>Start</th>
              <th>End</th>
              <th>Duration</th>
              <th>Activity</th>
              <th>Tag</th>
              <th>Notes</th>
            </tr>
          </thead>
          <tbody id="entriesBody"></tbody>
        </table>
      </div>

      <div class="card">
        <div class="section-title">Focus Zone — Creator Sessions & 30-min Checks</div>
        <div class="form" style="align-items:center;">
          <button id="creatorWithBtn" class="btn primary" type="button">Start Creator (With Social)</button>
          <button id="creatorNoBtn" class="btn success" type="button">Start Creator (No Social)</button>
          <button id="creatorStopBtn" class="btn warn" type="button" disabled>Stop</button>
          <span style="margin-left:10px;">Session Timer: <span id="miniTimer" class="mini-timer">00:00</span></span>
        </div>

        <div class="status" id="creatorStatus" style="margin-top:6px;color:var(--muted);font-style:italic;">No active session.</div>

        <div id="slotsGrid" style="
            display:grid;
            grid-template-columns:repeat(auto-fill,minmax(200px,1fr));
            gap:8px;
            margin-top:12px;">
        </div>
      </div>
    </div>
  </div>
</body>
</html>

