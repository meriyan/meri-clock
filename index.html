<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Meri — Daily Tracker</title>
  
  <style>
/* Define the color scheme for a sleek dark mode */
:root {
    --bg: #0d1117; 
    --panel: #161b22; 
    --card: #1f252d; 
    --text: #c9d1d9; 
    --accent: #58a6ff; /* A bright, modern blue */
    --muted: #8b949e; 
    --good: #3fb950; 
    --warn: #d29922; 
    --danger: #f85149; 
    --shadow: rgba(0,0,0,0.5); /* Stronger shadow for depth */
}

/* Base styles for a clean page */
html, body {
    height: 100%;
    margin: 0;
    background: var(--bg);
    color: var(--text);
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
    font-size: 16px;
}

/* Main content wrapper */
.container {
    min-height: 100%;
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 30px 20px 80px;
}

/* Card/Panel Styling (The Modern Look) */
.card {
    background: var(--card);
    border: 1px solid var(--panel);
    border-radius: 16px; /* Slightly rounded corners */
    box-shadow: 0 10px 30px var(--shadow); /* Lifted appearance */
    padding: 20px;
    max-width: 1000px;
    width: 100%;
    margin-top: 25px;
    transition: transform 0.2s;
}

/* Titles and Headers */
.section-title {
    font-weight: 700;
    letter-spacing: 0.08em;
    text-transform: uppercase;
    font-size: 14px;
    color: var(--accent); /* Highlight key sections */
    margin: 0 0 15px;
    border-bottom: 2px solid var(--panel);
    padding-bottom: 8px;
}
h2 {
    color: var(--text);
    font-weight: 600;
}

/* Button & Control Styling */
.controls {
    display: flex;
    gap: 15px;
    flex-wrap: wrap;
    align-items: center;
    justify-content: center;
}
.btn {
    background: var(--panel);
    color: var(--text);
    border: none;
    border-radius: 8px;
    padding: 12px 18px;
    font-weight: 500;
    cursor: pointer;
    user-select: none;
    transition: all 0.2s ease;
}
.btn:hover:not(:disabled) { 
    background-color: var(--card);
    box-shadow: 0 0 0 2px var(--accent); /* Subtle glow on hover */
}
.btn.primary {
    background: var(--accent);
    color: #fff;
}
.btn.success {
    background: var(--good);
    color: #fff;
}
.btn.warn {
    background: var(--warn);
    color: var(--bg);
}
.btn.ghost {
    background: transparent;
    border: 1px solid var(--muted);
}
.btn:disabled {
    opacity: 0.4;
    cursor: not-allowed;
}

/* Forms and Inputs */
.form {
    display: flex;
    gap: 10px;
    flex-wrap: wrap;
    align-items: center;
}
.form input, .form select, .form textarea {
    background: var(--panel);
    color: var(--text);
    border: 1px solid #30363d;
    border-radius: 8px;
    padding: 10px 12px;
    outline: none;
    flex-grow: 1;
    min-width: 150px;
    transition: border-color 0.2s;
}
.form input:focus, .form select:focus, .form textarea:focus {
    border-color: var(--accent);
    box-shadow: 0 0 0 1px var(--accent);
}
#notes { 
    flex-basis: 100%; 
    resize: vertical; 
    min-height: 80px; 
}
#clockInStatus { 
    font-weight: 600; 
    color: var(--good); 
    font-size: 1em;
    margin-top: 15px;
    padding: 8px;
    background: rgba(63, 185, 80, 0.1);
    border-radius: 8px;
}

/* Clock Styling (The most complex part) */
.clock {
    display: flex;
    gap: 20px;
    align-items: center;
    justify-content: center;
    flex-wrap: wrap;
    margin: 10px 0;
}
.colon {
    font-weight: 800;
    font-size: 56px;
    color: var(--muted);
    position: relative;
    top: -10px;
}
.flip {
    position: relative;
    width: 80px; /* Adjusted size for segment */
    height: 100px; /* Adjusted size for segment */
    perspective: 1000px;
}
.card-face {
    position: relative;
    width: 100%;
    height: 100%;
    border-radius: 12px;
    background: linear-gradient(180deg, var(--card), #12161b);
    border: 1px solid var(--panel);
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.4);
    overflow: hidden;
}
.digit {
    font-size: 60px; /* Slightly smaller digit */
    font-weight: 700;
    color: var(--accent);
}
.half {
    position: absolute;
    left: 0;
    right: 0;
    height: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-variant-numeric: tabular-nums;
}
.top {
    top: 0;
    border-bottom: 1px solid rgba(0,0,0,0.35);
}
.bottom {
    bottom: 0;
}

/* Data Tables */
table {
    width: 100%;
    border-collapse: separate;
    border-spacing: 0;
    margin-top: 15px;
    font-size: 0.9em;
}
th, td {
    padding: 12px 10px;
    text-align: left;
    border-bottom: 1px solid #30363d;
}
thead th {
    font-size: 11px;
    letter-spacing: 0.1em;
    text-transform: uppercase;
    color: var(--muted);
}
tbody tr:last-child td {
    border-bottom: none;
}
tbody tr:hover {
    background-color: rgba(90, 166, 255, 0.05);
}

/* Focus Zone / Checkboxes */
.mini-timer {
    font-weight: 800;
    font-variant-numeric: tabular-nums;
    color: var(--accent);
}
.slot {
    display: flex;
    align-items: center;
    justify-content: space-between;
    background: var(--panel);
    padding: 10px 12px;
    border-radius: 6px;
    transition: background-color 0.2s;
}
.slot:hover {
    background: #262e38;
}

/* Responsive adjustments */
@media (max-width: 600px) {
    .container {
        padding: 15px 10px 60px; /* CORRECTED: Completed padding value and closed the brace */
    }
    .card {
        padding: 15px;
        margin-top: 15px;
    }
    .flip {
        width: 60px;
        height: 80px;
    }
    .digit {
        font-size: 40px;
    }
    .colon {
        font-size: 40px;
    }
}
  </style>
  
  <script type="module">
    import { createClient } from "https://esm.sh/@supabase/supabase-js@2";
    // NOTE: These keys are placeholder public keys for this demo structure
    const SUPABASE_URL="https://eqqunclfxzmfosjwzwki.supabase.co";
    const SUPABASE_ANON_KEY="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVxcXVuY2xmeHptZm9zand6d2tpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjE5NDg1MDQsImV4cCI6MjA3NzUyNDUwNH0.1N5pYTxFf6PjCMgQ0nUICsc9jLL58LuDZgX_s8yLe_w";
    const supabase=createClient(SUPABASE_URL,SUPABASE_ANON_KEY);

    const pad=n=>n.toString().padStart(2,"0");
    const months=["January","February","March","April","May","June","July","August","September","October","November","December"];
    let clockInInterval, creatorSessionInterval, creatorStartTime;

    function startOfDayUtc(d){const x=new Date(d.getFullYear(),d.getMonth(),d.getDate(),0,0,0);return new Date(x.getTime()-x.getTimezoneOffset()*60000);}
    function nextDayUtc(d){const x=new Date(d.getFullYear(),d.getMonth(),d.getDate()+1,0,0,0);return new Date(x.getTime()-x.getTimezoneOffset()*60000);}
    async function getCurrentUser(){const {data:{user}}=await supabase.auth.getUser();return user;}

    async function handleAuth(e){
      e.preventDefault();
      const email=document.getElementById("authEmail").value;
      const password=document.getElementById("authPassword").value;
      let {error}=await supabase.auth.signInWithPassword({email,password});
      if(error){
        const {error:e2}=await supabase.auth.signUp({email,password});
        if(e2)return alert("Auth error: "+e2.message);
        alert("Signup successful! Please log in.");
      } else alert("Login successful!");
      setupAfterLogin();
    }

    async function handleLogout(){await supabase.auth.signOut();localStorage.removeItem("meri_selected_date");location.reload();}

    function buildDateSelector(){
      const c=document.getElementById("dateSelector");
      c.innerHTML="";
      for(let y=2025;y<=2030;y++){
        const yDiv=document.createElement("div");
        yDiv.className="year-box";
        yDiv.textContent=y;
        yDiv.addEventListener("click",()=>toggleMonths(yDiv,y));
        c.appendChild(yDiv);
      }
    }

    function toggleMonths(yDiv,year){
      let existing=yDiv.nextElementSibling;
      if(existing&&existing.classList.contains("month-container")){existing.remove();return;}
      const mC=document.createElement("div");
      mC.className="month-container";
      months.forEach((m,i)=>{
        const mDiv=document.createElement("div");
        mDiv.className="month-box";
        mDiv.textContent=m;
        mDiv.addEventListener("click",()=>toggleDays(mDiv,year,i));
        mC.appendChild(mDiv);
      });
      yDiv.after(mC);
    }

    function toggleDays(mDiv,year,month){
      let existing=mDiv.nextElementSibling;
      if(existing&&existing.classList.contains("days-grid")){existing.remove();return;}
      const grid=document.createElement("div");
      grid.className="days-grid";
      const days=new Date(year,month+1,0).getDate();
      for(let d=1;d<=days;d++){
        const b=document.createElement("div");
        b.className="day-btn";
        b.textContent=d;
        b.addEventListener("click",()=>openDay(year,month,d));
        grid.appendChild(b);
      }
      mDiv.after(grid);
    }

    function openDay(y,m,d){
      const sel=new Date(y,m,d);
      localStorage.setItem("meri_selected_date",sel.toISOString());
      document.getElementById("dateSelectorPage").style.display="none";
      document.getElementById("mainApp").style.display="block";
      document.getElementById("selectedDateHeader").textContent=`${d} ${months[m]} ${y}`;
      window.currentDate=sel;
      setupDaily();
    }

    async function setupDaily(){
      const user=await getCurrentUser(); if(!user)return;
      await loadEntries(user.id);
      buildCheckboxGrid(); await loadChecks();
      checkClockInStatus(user.id);
    }

    async function loadEntries(uid){
      const d=window.currentDate||new Date();
      const from=startOfDayUtc(d).toISOString();const to=nextDayUtc(d).toISOString();
      const {data}=await supabase.from("logs").select("*").eq("user_id",uid).gte("start_time",from).lt("start_time",to).order("start_time",{ascending:false});
      const tb=document.getElementById("entriesBody");tb.innerHTML="";
      data?.forEach(r=>{
        const s=new Date(r.start_time);const e=r.end_time?new Date(r.end_time):null;
        // Calculate duration in hours/minutes if end_time exists
        let duration = e ? formatDuration(e.getTime() - s.getTime()) : '';
        
        const tr=document.createElement("tr");
        tr.innerHTML=`<td>${pad(s.getDate())}.${pad(s.getMonth()+1)}.${s.getFullYear()}</td><td>${s.toLocaleTimeString()}</td><td>${e?e.toLocaleTimeString():"-"}</td><td>${duration}</td><td>${r.activity||""}</td><td>${r.tag||""}</td><td>${r.notes||""}</td>`;
        tb.appendChild(tr);
      });
    }

    function formatDuration(ms) {
        const totalSeconds = Math.floor(ms / 1000);
        const hours = Math.floor(totalSeconds / 3600);
        const minutes = Math.floor((totalSeconds % 3600) / 60);
        const seconds = totalSeconds % 60; 

        let output = "";
        if (hours > 0) output += `${hours}h `;
        output += `${pad(minutes)}m`;
        if (totalSeconds < 3600 && hours === 0) output += ` ${pad(seconds)}s`;
        
        return output.trim();
    }

    function buildCheckboxGrid(){
      const g=document.getElementById("slotsGrid");g.innerHTML="";
      for(let i=0;i<48;i++){
        const H = Math.floor(i/2);
        const M = i%2===0?0:30;
        const lbl=`${pad(H)}:${pad(M)}`;
        const div=document.createElement("div");div.className="slot";
        div.innerHTML=`<span>${lbl}</span><input type="checkbox" data-label="${lbl}">`;
        g.appendChild(div);
      }
      g.addEventListener("change",toggleCheck);
    }

    async function loadChecks(){
      const user=await getCurrentUser();if(!user)return;
      const d=window.currentDate||new Date();
      const from=startOfDayUtc(d).toISOString();const to=nextDayUtc(d).toISOString();
      const {data}=await supabase.from("social_checks").select("slot_time,checked").eq("user_id",user.id).gte("slot_time",from).lt("slot_time",to);
      const map=new Map();data?.forEach(r=>{const t=new Date(r.slot_time);map.set(`${pad(t.getHours())}:${pad(t.getMinutes())}`,!!r.checked);});
      document.querySelectorAll("#slotsGrid input").forEach(cb=>{const l=cb.dataset.label;if(map.has(l))cb.checked=map.get(l);});
    }

    async function toggleCheck(e){
      const cb=e.target;if(cb.tagName!=="INPUT")return;
      const user=await getCurrentUser();if(!user){cb.checked=!cb.checked;return alert("Login first");}
      const lbl=cb.dataset.label;const d=window.currentDate||new Date();
      const [H,M]=lbl.split(":").map(Number);const local=new Date(d.getFullYear(),d.getMonth(),d.getDate(),H,M);
      const slot=new Date(local.getTime()-local.getTimezoneOffset()*60000).toISOString();
      await supabase.from("social_checks").upsert({user_id:user.id,slot_time:slot,checked:cb.checked},{onConflict:"user_id,slot_time"});
    }

    // Renders the flip clock
    function tickClock() {
      const n = new Date();
      const h = pad(n.getHours()), m = pad(n.getMinutes()), s = pad(n.getSeconds());

      // Clear and recreate the clock structure
      document.querySelector('.clock').innerHTML = `
        <div id="hoursSeg" class="segment"></div>
        <div class="colon">:</div>
        <div id="minsSeg" class="segment"></div>
        <div class="colon">:</div>
        <div id="secsSeg" class="segment"></div>
      `;

      // Render the digits into the newly created segments
      renderDigits("hoursSeg", h);
      renderDigits("minsSeg", m);
      renderDigits("secsSeg", s);
    }

    function renderDigits(id,str){
      const seg=document.getElementById(id);
      if(!seg) return;
      seg.innerHTML="";
      for(const ch of str){
        const e=document.createElement("div");
        e.className="flip";
        e.innerHTML=`<div class="card-face"><div class="half top"><div class="digit">${ch}</div></div><div class="half bottom"><div class="digit">${ch}</div></div></div>`;
        seg.appendChild(e);
      }
    }
    
    // --- Clock In/Out Logic ---
    async function handleClockIn() {
        const user = await getCurrentUser(); if (!user) return alert("Please log in.");
        const activity = document.getElementById("activity").value;
        const tag = document.getElementById("category").value;
        const notes = document.getElementById("notes").value;
        if (!activity) return alert("Activity is required.");

        const start_time = new Date().toISOString();
        const { error } = await supabase.from("logs").insert({ user_id: user.id, start_time, activity, tag, notes, end_time: null });
        if (error) return alert("Clock In Error: " + error.message);
        
        localStorage.setItem("meri_clocked_in", start_time);
        localStorage.setItem("meri_clocked_in_activity", activity);
        localStorage.setItem("meri_clocked_in_tag", tag);
        localStorage.setItem("meri_clocked_in_notes", notes);
        
        checkClockInStatus(user.id);
        alert("Clocked In!");
    }

    async function handleClockOut() {
        const user = await getCurrentUser(); if (!user) return;
        const clockedInTime = localStorage.getItem("meri_clocked_in");
        if (!clockedInTime) return alert("You are not currently clocked in.");

        const end_time = new Date().toISOString();
        const activity = localStorage.getItem("meri_clocked_in_activity");
        const tag = localStorage.getItem("meri_clocked_in_tag");
        const notes = localStorage.getItem("meri_clocked_in_notes");

        // Find the last open log entry and update it
        const { data: logs, error: selectError } = await supabase.from("logs")
            .select("id")
            .eq("user_id", user.id)
            .eq("start_time", clockedInTime)
            .is("end_time", null)
            .order("start_time", { ascending: false })
            .limit(1);

        if (selectError) return alert("Clock Out Error (Select): " + selectError.message);
        if (logs.length === 0) return alert("Could not find the start log entry.");

        const { error: updateError } = await supabase.from("logs")
            .update({ end_time, activity, tag, notes })
            .eq("id", logs[0].id);

        if (updateError) return alert("Clock Out Error (Update): " + updateError.message);

        localStorage.removeItem("meri_clocked_in");
        localStorage.removeItem("meri_clocked_in_activity");
        localStorage.removeItem("meri_clocked_in_tag");
        localStorage.removeItem("meri_clocked_in_notes");

        checkClockInStatus(user.id);
        await loadEntries(user.id); // Reload table
        alert("Clocked Out!");
    }
    
    // Function to update the clock-in status message and timer every second
    function updateClockInTimer(startTime) {
        const elapsedMs = new Date().getTime() - new Date(startTime).getTime();
        const durationText = formatDuration(elapsedMs);
        const activity = localStorage.getItem("meri_clocked_in_activity");
        const statusText = `Clocked In to: **${activity}** | Duration: **${durationText}**`;
        document.querySelector('#clockInStatus').innerHTML = statusText;
    }

    function checkClockInStatus(uid) {
        const isClockedIn = localStorage.getItem("meri_clocked_in");
        document.getElementById("clockInBtn").disabled = !!isClockedIn;
        document.getElementById("clockOutBtn").disabled = !isClockedIn;
        
        // Restore input fields
        document.getElementById("activity").value = localStorage.getItem("meri_clocked_in_activity") || '';
        document.getElementById("category").value = localStorage.getItem("meri_clocked_in_tag") || '';
        document.getElementById("notes").value = localStorage.getItem("meri_clocked_in_notes") || '';

        if (isClockedIn) {
            // Disable input fields while clocked in
            document.getElementById("activity").disabled = true;
            document.getElementById("category").disabled = true;
            document.getElementById("notes").disabled = true;
            
            if (!clockInInterval) {
                // Initial update and start interval
                updateClockInTimer(isClockedIn);
                clockInInterval = setInterval(() => updateClockInTimer(isClockedIn), 1000);
            }
        } else {
            // Enable input fields when clocked out
            document.getElementById("activity").disabled = false;
            document.getElementById("category").disabled = false;
            document.getElementById("notes").disabled = false;

            if (clockInInterval) {
                clearInterval(clockInInterval);
                clockInInterval = null;
            }
            document.querySelector('#clockInStatus').innerHTML = "Not currently clocked in.";
        }
    }
    
    // --- Creator Session Logic ---
    function updateMiniTimer() {
        if (!creatorStartTime) return;
        const elapsed = new Date().getTime() - creatorStartTime.getTime();
        const totalSeconds = Math.floor(elapsed / 1000);
        const minutes = pad(Math.floor(totalSeconds / 60));
        const seconds = pad(totalSeconds % 60);
        document.getElementById("miniTimer").textContent = `${minutes}:${seconds}`;
    }

    function startCreator(type) {
        if (creatorSessionInterval) return alert("A session is already running. Please stop it first.");
        creatorStartTime = new Date();
        localStorage.setItem("meri_creator_session_start", creatorStartTime.toISOString());
        localStorage.setItem("meri_creator_session_type", type);

        document.getElementById("creatorWithBtn").disabled = true;
        document.getElementById("creatorNoBtn").disabled = true;
        document.getElementById("creatorStopBtn").disabled = false;
        
        document.getElementById("creatorStatus").textContent = `Session Active: ${type === 'social' ? 'With Social' : 'No Social'}`;
        
        creatorSessionInterval = setInterval(updateMiniTimer, 1000);
        updateMiniTimer();
    }

    async function stopCreator() {
        if (!creatorSessionInterval) return alert("No active session to stop.");
        clearInterval(creatorSessionInterval);
        creatorSessionInterval = null;
        
        const type = localStorage.getItem("meri_creator_session_type");
        const start = localStorage.getItem("meri_creator_session_start");
        const end = new Date().toISOString();
        
        // Log the session as a "Work" log entry
        const user = await getCurrentUser();
        if (user && start) {
            
            const activity = `Creator Session (${type === 'social' ? 'With Social' : 'No Social'})`;
            const tag = 'Deep Work';
            await supabase.from("logs").insert({ 
                user_id: user.id, 
                start_time: start, 
                end_time: end, 
                activity: activity, 
                tag: tag,
                notes: `Duration: ${formatDuration(new Date(end).getTime() - new Date(start).getTime())}`
            });
            await loadEntries(user.id);
        }
        
        localStorage.removeItem("meri_creator_session_start");
        localStorage.removeItem("meri_creator_session_type");

        document.getElementById("creatorWithBtn").disabled = false;
        document.getElementById("creatorNoBtn").disabled = false;
        document.getElementById("creatorStopBtn").disabled = true;
        document.getElementById("creatorStatus").textContent = "No active session.";
        document.getElementById("miniTimer").textContent = "00:00";
    }


    async function setupAfterLogin(){
      const user=await getCurrentUser();if(!user)return;
      document.getElementById("authSection").style.display="none";
      const saved=localStorage.getItem("meri_selected_date");
      if(saved){
        const d=new Date(saved);
        window.currentDate=d;
        document.getElementById("selectedDateHeader").textContent=`${d.getDate()} ${months[d.getMonth()]} ${d.getFullYear()}`;
        document.getElementById("mainApp").style.display="block";
        setupDaily();
      } else {
        document.getElementById("dateSelectorPage").style.display="block";
        buildDateSelector();
      }
      // Re-check creator session state on refresh
      if (localStorage.getItem("meri_creator_session_start")) {
          creatorStartTime = new Date(localStorage.getItem("meri_creator_session_start"));
          const type = localStorage.getItem("meri_creator_session_type");
          document.getElementById("creatorWithBtn").disabled = true;
          document.getElementById("creatorNoBtn").disabled = true;
          document.getElementById("creatorStopBtn").disabled = false;
          document.getElementById("creatorStatus").textContent = `Session Active: ${type === 'social' ? 'With Social' : 'No Social'}`;
          creatorSessionInterval = setInterval(updateMiniTimer, 1000);
      }
    }

    window.addEventListener("DOMContentLoaded", async () => {
      document.getElementById("mainApp").style.display = "none";
      document.getElementById("dateSelectorPage").style.display = "none";

      const { data: { session } } = await supabase.auth.getSession();
      document.getElementById("authForm").addEventListener("submit", handleAuth);
      document.getElementById("logoutBtn").addEventListener("click", handleLogout);
      
      // Clock In/Out Listeners
      document.getElementById("clockInBtn").addEventListener("click", handleClockIn);
      document.getElementById("clockOutBtn").addEventListener("click", handleClockOut);

      // Creator Session Listeners
      document.getElementById("creatorWithBtn").addEventListener("click", () => startCreator('social'));
      document.getElementById("creatorNoBtn").addEventListener("click", () => startCreator('no-social'));
      document.getElementById("creatorStopBtn").addEventListener("click", stopCreator);
      
      // Initialize the clock interval
      setInterval(tickClock, 1000);

      if (!session?.user) {
          document.getElementById("authSection").style.display = "block";
          return;
      }
      
      await setupAfterLogin();
    });
  </script>
</head>

<body>
  <div class="container">
    <div id="authSection" class="card">
      <div class="section-title">Log in or Sign up</div>
      <form id="authForm" class="form">
        <input type="email" id="authEmail" placeholder="Email" required />
        <input type="password" id="authPassword" placeholder="Password" required />
        <button class="btn primary" type="submit">Continue</button>
      </form>
    </div>

    <div id="dateSelectorPage" class="date-selector">
      <h2>Select Date</h2>
      <div id="dateSelector"></div>
    </div>

    <div id="mainApp">
      <div class="controls">
        <button id="logoutBtn" class="btn ghost">Log out</button>
        <button id="exportBtn" class="btn primary" disabled>Export CSV (Pending)</button>
        <button id="clearBtn" class="btn ghost" disabled>Clear All (Pending)</button>
      </div>

      <h2 id="selectedDateHeader" style="text-align:center;margin-top:10px;"></h2>

            <div class="card">
        <div class="section-title">Flip Clock</div>
        <div class="clock"></div>
      </div>
---
            <div class="card">
        <div class="section-title">Clock In / Clock Out</div>
        <form class="form" onsubmit="return false;">
          <input type="text" id="activity" placeholder="What are you doing?" required />
          <select id="category">
            <option value="">No tag</option>
            <option>Study</option>
            <option>Work</option>
            <option>Gym</option>
            <option>Deep Work</option>
            <option>Content</option>
            <option>Admin</option>
          </select>
          <textarea id="notes" placeholder="Notes (optional)"></textarea>
          <button id="clockInBtn" class="btn success" type="button">Clock In</button>
          <button id="clockOutBtn" class="btn warn" type="button" disabled>Clock Out</button>
        </form>
        <div id="clockInStatus" style="margin-top:10px; color:var(--muted);">Not currently clocked in.</div>
      </div>
---
  <div class="card">
  <div class="section-title">Entries</div>
  <table>
    <thead>
      <tr>
        <th>Date</th>
        <th>Start</th>
        <th>End</th>
        <th>Duration</th>
        <th>Activity</th>
        <th>Tag</th>
        <th>Notes</th>
      </tr>
    </thead>
    <tbody id="entriesBody">
          </tbody>
  </table>
</div>
---
<div class="card">
  <div class="section-title">Focus Zone — Creator Sessions & 30-min Checks</div>
  <div class="form" style="align-items:center;">
    <button id="creatorWithBtn" class="btn primary" type="button">Start Creator (With Social)</button>
    <button id="creatorNoBtn" class="btn success" type="button">Start Creator (No Social)</button>
    <button id="creatorStopBtn" class="btn warn" type="button" disabled>Stop</button>
    <span style="margin-left:10px;">Session Timer: <span id="miniTimer" class="mini-timer">00:00</span></span>
  </div>

  <div class="status" id="creatorStatus" style="margin-top:6px; color:var(--muted); font-style: italic;">No active session.</div>

  <div id="slotsGrid"
       style="display:grid;
              grid-template-columns:repeat(auto-fill,minmax(200px,1fr));
              gap:8px;
              margin-top:12px;">
        </div>
</div>
</div> 
</div> 
</body>
</html>
